<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Windows 经典小游戏合集</title>
  <link rel="stylesheet" href="./styles/main.css" />
</head>
<script>
(function () {
  const ua = navigator.userAgent.toLowerCase();
  const isWeChat = ua.includes('micromessenger');
  const isQQ = ua.includes('qq/');
  if (isWeChat || isQQ) {
    document.addEventListener('DOMContentLoaded', () => {
      document.body.innerHTML = `
        <div style="
          display:flex;
          align-items:center;
          justify-content:center;
          height:100vh;
          text-align:center;
          font-family:sans-serif;
          background:#0f1420;
          color:white;
          padding:24px;
        ">
          <div>
            <h2>请在浏览器中打开</h2>
            <p style="opacity:.8">
              点击右上角「…」<br/>
              选择「在浏览器中打开」<br/><br/>
              然后就可以正常玩啦 🎮
            </p>
          </div>
        </div>
      `;
    });
  }
})();
</script>
  
<script>
(function () {
  const ua = navigator.userAgent.toLowerCase();
  const isWeChat = ua.includes('micromessenger');
  const isQQ = ua.includes('qq/');
  if (isWeChat || isQQ) {
    document.addEventListener('DOMContentLoaded', () => {
      document.body.innerHTML = `
        <div style="
          display:flex;
          align-items:center;
          justify-content:center;
          height:100vh;
          text-align:center;
          font-family:sans-serif;
          background:#0f1420;
          color:white;
          padding:24px;
        ">
          <div>
            <h2>请在浏览器中打开</h2>
            <p style="opacity:.8">
              点击右上角「…」<br/>
              选择「在浏览器中打开」<br/><br/>
              然后就可以正常玩啦 🎮
            </p>
          </div>
        </div>
      `;
    });
  }
})();
</script>
  
<body>
  <div class="app">
    <header class="topbar">
      <div class="brand">
        <div class="brand__icon" aria-hidden="true"></div>
        <div class="brand__text">
          <div class="brand__title" id="uiTitle">Windows 小游戏合集</div>
          <div class="brand__subtitle" id="uiSubtitle">Canvas 复刻 · 扫雷 & 纸牌</div>
        </div>
      </div>

      <div class="toolbar">
        <div class="toolbar__group" id="difficultyGroup" hidden>
          <label class="label" for="difficultySelect">难度</label>
          <select id="difficultySelect" class="select">
            <option value="easy">初级（9×9 / 10雷）</option>
            <option value="medium">中级（16×16 / 40雷）</option>
            <option value="hard">高级（30×16 / 99雷）</option>
          </select>
        </div>

        <button class="btn" id="btnRules" type="button">玩法规则</button>
        <button class="btn" id="btnRestart" type="button">重新开始</button>
        <button class="btn btn--ghost" id="btnBack" type="button">返回大厅</button>
      </div>
    </header>
    <script>
(function () {
  const ua = navigator.userAgent.toLowerCase();
  const isWeChat = ua.includes('micromessenger');
  const isQQ = ua.includes('qq/');
  if (isWeChat || isQQ) {
    document.addEventListener('DOMContentLoaded', () => {
      document.body.innerHTML = `
        <div style="
          display:flex;
          align-items:center;
          justify-content:center;
          height:100vh;
          text-align:center;
          font-family:sans-serif;
          background:#0f1420;
          color:white;
          padding:24px;
        ">
          <div>
            <h2>请在浏览器中打开</h2>
            <p style="opacity:.8">
              点击右上角「…」<br/>
              选择「在浏览器中打开」<br/><br/>
              然后就可以正常玩啦 🎮
            </p>
          </div>
        </div>
      `;
    });
  }
})();
</script>

    <main class="content">
      <!-- 大厅 -->
      <section class="lobby" id="lobby">
        <div class="lobby__grid" id="lobbyGrid"></div>
      </section>

      <!-- 游戏舞台 -->
      <section class="stage" id="stage" hidden>
        <div class="hud">
          <div class="hud__item" id="hudLeft">—</div>
          <div class="hud__item hud__item--right" id="hudRight">—</div>
        </div>

        <div class="canvasWrap">
          <canvas id="gameCanvas"></canvas>
        </div>
      </section>

      <!-- 规则面板 -->
      <aside class="rules" id="rulesPanel" hidden>
        <div class="rules__head">
          <div class="rules__title">玩法规则</div>
          <button class="btn btn--ghost" id="btnCloseRules" type="button">关闭</button>
        </div>
        <div class="rules__body" id="rulesBody"></div>
      </aside>
    </main>

    <footer class="footer">
      <span class="footer__hint">
        桌面：左键/右键 · 移动：点击/长按/拖拽 · Canvas 自适应
      </span>
    </footer>
  </div>

  <script type="module" src="./src/main.js"></script>
</body>
</html>



